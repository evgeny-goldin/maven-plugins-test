<?xml version="1.0" encoding="UTF-8"?>

<project xmlns              = "http://maven.apache.org/POM/4.0.0"
         xmlns:xsi          = "http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0
                               http://maven.apache.org/maven-v4_0_0.xsd">

    <modelVersion>4.0.0</modelVersion>
    <groupId>com.github.goldin.maven-plugins-test</groupId>
    <artifactId>copy-maven-plugin.issues.0.2.3.8</artifactId>
    <packaging>jar</packaging>
    <version>0.1-SNAPSHOT</version>
    <name>[${project.groupId}:${project.artifactId}:${project.version}]</name>


    <parent>
        <groupId>com.github.goldin.maven-plugins-test</groupId>
        <artifactId>copy-maven-plugin.issues</artifactId>
        <version>0.1-SNAPSHOT</version>
    </parent>


    <build>
        <plugins>
            <plugin>
                <groupId>com.github.goldin</groupId>
                <artifactId>copy-maven-plugin</artifactId>
                <version>${plugins-version}</version>
                <executions>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-600 -->
                    <!-- stripVersion does not work with maven 3        -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-600</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-600/strip</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.jfrog.buildinfo</groupId>
                                            <artifactId>build-info-api</artifactId>
                                            <version>2.0.x-SNAPSHOT</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                            <type>pom</type>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                            <type>pom</type>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <classifier>sources</classifier>
                                            <version>2.1.x-SNAPSHOT</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                            <type>zip</type>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-client</artifactId>
                                            <version>1.3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-client</artifactId>
                                            <classifier>sources</classifier>
                                            <version>1.3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-extractor</artifactId>
                                            <version>1.3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-extractor</artifactId>
                                            <classifier>sources</classifier>
                                            <version>1.3.1</version>
                                        </dependency>
                                    </dependencies>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-600/no-strip</targetPath>
                                    <stripVersion>false</stripVersion>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.jfrog.buildinfo</groupId>
                                            <artifactId>build-info-api</artifactId>
                                            <version>2.0.x-SNAPSHOT</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                            <type>pom</type>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                            <type>pom</type>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <classifier>sources</classifier>
                                            <version>2.1.x-SNAPSHOT</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog.teamcity</groupId>
                                            <artifactId>teamcity-artifactory-plugin-agent</artifactId>
                                            <version>2.1.x-SNAPSHOT</version>
                                            <type>zip</type>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-client</artifactId>
                                            <version>1.3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-client</artifactId>
                                            <classifier>sources</classifier>
                                            <version>1.3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-extractor</artifactId>
                                            <version>1.3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jfrog</groupId>
                                            <artifactId>build-info-extractor</artifactId>
                                            <classifier>sources</classifier>
                                            <version>1.3.1</version>
                                        </dependency>
                                    </dependencies>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-564                       -->
                    <!-- "Allow to provide static manifest content when archives are created" -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-564-1</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/1/1.jar</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                    <manifest>
                                        <entries>
                                            <Specification-Title>${project.groupId}-${project.artifactId}</Specification-Title>
                                            <Specification-Version>${project.version}</Specification-Version>
                                            <OS-Version>${os.version}</OS-Version>
                                            <a1>b1</a1>
                                        </entries>
                                    </manifest>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/1/1-jar</targetPath>
                                    <file>${outputDir}/pl-564/1/1.jar</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/1/2.zip</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                    <manifest>
                                        <location>a/b/manifest.txt</location>
                                        <entries>
                                            <Specification-Title>${project.groupId}-${project.artifactId}</Specification-Title>
                                            <Specification-Version>${project.version}</Specification-Version>
                                            <OS-Version>${os.version}</OS-Version>
                                            <a2>b2</a2>
                                        </entries>
                                    </manifest>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/1/2-zip</targetPath>
                                    <file>${outputDir}/pl-564/1/2.zip</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/1/3.tar.gz</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                    <manifest>
                                        <location>manifest.txt</location>
                                        <entries>
                                            <Specification-Title>${project.groupId}-${project.artifactId}</Specification-Title>
                                            <Specification-Version>${project.version}</Specification-Version>
                                            <OS-Version>${os.version}</OS-Version>
                                            <a3>b3</a3>
                                        </entries>
                                    </manifest>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/1/3-tar.gz</targetPath>
                                    <file>${outputDir}/pl-564/1/3.tar.gz</file>
                                    <unpack>true</unpack>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-564-2</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <manifest>
                                <entries>
                                    <Specification-Title>${project.groupId}-${project.artifactId}</Specification-Title>
                                    <Specification-Version>${project.version}</Specification-Version>
                                    <OS-Version>${os.version}</OS-Version>
                                    <a4>b4</a4>
                                </entries>
                            </manifest>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/2/1.jar</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/2/1-jar</targetPath>
                                    <file>${outputDir}/pl-564/2/1.jar</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/2/2.zip</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/2/2-zip</targetPath>
                                    <file>${outputDir}/pl-564/2/2.zip</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/2/3.tar.gz</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/2/3-tar.gz</targetPath>
                                    <file>${outputDir}/pl-564/2/3.tar.gz</file>
                                    <unpack>true</unpack>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-564-3</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <manifest>
                                <location>/m.txt</location>
                                <entries>
                                    <Specification-Title>${project.groupId}-${project.artifactId}</Specification-Title>
                                    <Specification-Version>${project.version}</Specification-Version>
                                    <OS-Version>${os.version}</OS-Version>
                                    <a5>b5</a5>
                                </entries>
                            </manifest>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/3/1.jar</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/3/1-jar</targetPath>
                                    <file>${outputDir}/pl-564/3/1.jar</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/3/2.zip</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                    <manifest>
                                        <entries>
                                            <a5>zzzzz</a5>
                                            <a7>b7</a7>
                                            <basedir>${project.basedir}</basedir>
                                        </entries>
                                    </manifest>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/3/2-zip</targetPath>
                                    <file>${outputDir}/pl-564/3/2.zip</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/3/3.tar.gz</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                    <manifest>
                                        <location>/m2.txt</location>
                                        <entries>
                                            <a5>xxxxx</a5>
                                            <a6>b6</a6>
                                            <project>${project.baseUri}</project>
                                        </entries>
                                    </manifest>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/3/3-tar.gz</targetPath>
                                    <file>${outputDir}/pl-564/3/3.tar.gz</file>
                                    <unpack>true</unpack>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-564-4</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <useTrueZipForPack>true</useTrueZipForPack>
                            <manifest>
                                <entries>
                                    <Specification-Title>${project.groupId}-${project.artifactId}</Specification-Title>
                                    <Specification-Version>${project.version}</Specification-Version>
                                    <OS-Version>${os.version}</OS-Version>
                                    <a4>b4</a4>
                                </entries>
                            </manifest>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/4/1.jar</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/4/1-jar</targetPath>
                                    <file>${outputDir}/pl-564/4/1.jar</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/4/2.zip</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/4/2-zip</targetPath>
                                    <file>${outputDir}/pl-564/4/2.zip</file>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/4/3.tar.gz</targetPath>
                                    <file>${project.basedir}/pom.xml</file>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-564/4/3-tar.gz</targetPath>
                                    <file>${outputDir}/pl-564/4/3.tar.gz</file>
                                    <unpack>true</unpack>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-571                                    -->
                    <!-- "Using <stripVersion> - copying dependencies with classifier uses the wrong name" -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-571-1</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <stripVersion>true</stripVersion>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/1</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-571-2</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <stripVersion>false</stripVersion>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/2</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-571-3</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <stripVersion>true</stripVersion>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/3</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-571-4</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <stripVersion>false</stripVersion>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/4</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-571-5</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/5-1</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/5-2</targetPath>
                                    <stripVersion>false</stripVersion>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/5-3</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-571/5-4</targetPath>
                                    <stripVersion>false</stripVersion>
                                    <dependencies>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-572 -->
                    <!-- "Provide <stripVersion> per <dependency>"      -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-572</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <resources>
                                <resource>
                                    <targetPath>${outputDir}/pl-572/1</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <stripVersion>true</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>false</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>true</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-572/2</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <stripVersion>false</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>true</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>false</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-572/3</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <stripVersion>true</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>false</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>true</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-572/4</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <stripVersion>false</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>true</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>javadoc</classifier>
                                        </dependency>
                                        <dependency>
                                            <stripVersion>false</stripVersion>
                                            <groupId>commons-validator</groupId>
                                            <artifactId>commons-validator</artifactId>
                                            <version>1.2.0</version>
                                            <classifier>sources</classifier>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-562                             -->
                    <!-- "Incremental build support - add <skipPacked> and improve <skipIdentical>" -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-569                             -->
                    <!-- "Pass execution time as "time" to <process>"                               -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-568                             -->
                    <!-- "Add <stripVersion> per <configuration>"                                   -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-562</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <verbose>false</verbose>
                            <skipPacked>true</skipPacked>
                            <skipIdentical>true</skipIdentical>
                            <stripVersion>true</stripVersion>
                            <resources>
                                <resource>
                                    <description>pl-562/unpack</description>
                                    <targetPath>${outputDir}/pl-562/unpack</targetPath>
                                    <dependency>
                                        <groupId>org.jenkins-ci.main</groupId>
                                        <artifactId>jenkins-war</artifactId>
                                        <version>${jenkins-version}</version>
                                        <type>war</type>
                                    </dependency>
                                    <unpack>true</unpack>
                                </resource>
                                <resource>
                                    <description>pl-562/pack</description>
                                    <targetPath>${outputDir}/pl-562/pack/1.zip</targetPath>
                                    <directory>${outputDir}/pl-562/unpack</directory>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <description>pl-562/skip pack</description>
                                    <targetPath>${outputDir}/pl-562/pack/1.zip</targetPath>
                                    <directory>${outputDir}/pl-562/unpack</directory>
                                    <pack>true</pack>
                                </resource>
                                <resource>
                                    <description>pl-562/1 - copy</description>
                                    <targetPath>${outputDir}/pl-562/1</targetPath>
                                    <dependency>
                                        <includeScope>compile</includeScope>
                                    </dependency>
                                    <process>{{ assert time &gt; 10 }}</process>
                                </resource>
                                <resource>
                                    <description>pl-562/1 - skip</description>
                                    <targetPath>${outputDir}/pl-562/1</targetPath>
                                    <dependency>
                                        <includeScope>compile</includeScope>
                                    </dependency>
                                </resource>
                                <resource>
                                    <description>pl-562/2 - copy</description>
                                    <targetPath>${outputDir}/pl-562/2</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>slf4j-api</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>jcl-over-slf4j</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jenkins-ci.main</groupId>
                                            <artifactId>jenkins-war</artifactId>
                                            <version>${jenkins-version}</version>
                                            <type>war</type>
                                        </dependency>
                                    </dependencies>
                                    <process>{{ assert time &gt; 30 }}</process>
                                </resource>
                                <resource>
                                    <description>pl-562/2 - skip</description>
                                    <targetPath>${outputDir}/pl-562/2</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>slf4j-api</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>jcl-over-slf4j</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.jenkins-ci.main</groupId>
                                            <artifactId>jenkins-war</artifactId>
                                            <version>${jenkins-version}</version>
                                            <type>war</type>
                                        </dependency>
                                    </dependencies>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-567                                     -->
                    <!-- "CopyResource.dependenciesAtM2() - return "true" even when "stripVersion" is used" -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-567</id>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <resources>
                                <!-- ~~~~~~~~~~~~~~ -->
                                <!-- "stripVersion" -->
                                <!-- ~~~~~~~~~~~~~~ -->
                                <resource>
                                    <targetPath>${outputDir}/pl-567/1</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                    </dependency>
                                    <filter>${filterM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/2</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                        <excludeTransitive>false</excludeTransitive>
                                    </dependency>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/3</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>slf4j-api</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>jcl-over-slf4j</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-httpclient</groupId>
                                            <artifactId>commons-httpclient</artifactId>
                                            <version>3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>javax.servlet</groupId>
                                            <artifactId>servlet-api</artifactId>
                                            <version>2.3</version>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/4</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependency>
                                        <includeScope>compile</includeScope>
                                    </dependency>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <!-- ~~~~~~~~~~~~~~~~~ -->
                                <!-- No "stripVersion" -->
                                <!-- ~~~~~~~~~~~~~~~~~ -->
                                <resource>
                                    <targetPath>${outputDir}/pl-567/11</targetPath>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                    </dependency>
                                    <filter>${filterM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/22</targetPath>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                        <excludeTransitive>false</excludeTransitive>
                                    </dependency>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/33</targetPath>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>slf4j-api</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>jcl-over-slf4j</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-httpclient</groupId>
                                            <artifactId>commons-httpclient</artifactId>
                                            <version>3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>javax.servlet</groupId>
                                            <artifactId>servlet-api</artifactId>
                                            <version>2.3</version>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/44</targetPath>
                                    <dependency>
                                        <includeScope>compile</includeScope>
                                    </dependency>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                                <!-- "stripVersion" + "dependenciesAtM2" (true) -->
                                <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                                <resource>
                                    <targetPath>${outputDir}/pl-567/111</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>true</dependenciesAtM2>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                    </dependency>
                                    <filter>${filterM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/222</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>true</dependenciesAtM2>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                        <excludeTransitive>false</excludeTransitive>
                                    </dependency>
                                    <filter>${filterM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/333</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>true</dependenciesAtM2>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>slf4j-api</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>jcl-over-slf4j</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-httpclient</groupId>
                                            <artifactId>commons-httpclient</artifactId>
                                            <version>3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>javax.servlet</groupId>
                                            <artifactId>servlet-api</artifactId>
                                            <version>2.3</version>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/444</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>true</dependenciesAtM2>
                                    <dependency>
                                        <includeScope>compile</includeScope>
                                    </dependency>
                                    <filter>${filterM2}</filter>
                                </resource>
                                <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                                <!-- "stripVersion" + "dependenciesAtM2" (false) -->
                                <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                                <resource>
                                    <targetPath>${outputDir}/pl-567/1111</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>false</dependenciesAtM2>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                    </dependency>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/2222</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>false</dependenciesAtM2>
                                    <dependency>
                                        <groupId>org.springframework</groupId>
                                        <artifactId>spring-beans</artifactId>
                                        <version>${spring-version}</version>
                                        <excludeTransitive>false</excludeTransitive>
                                    </dependency>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/3333</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>false</dependenciesAtM2>
                                    <dependencies>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>slf4j-api</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>org.slf4j</groupId>
                                            <artifactId>jcl-over-slf4j</artifactId>
                                            <version>1.6.2</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>commons-httpclient</groupId>
                                            <artifactId>commons-httpclient</artifactId>
                                            <version>3.1</version>
                                        </dependency>
                                        <dependency>
                                            <groupId>javax.servlet</groupId>
                                            <artifactId>servlet-api</artifactId>
                                            <version>2.3</version>
                                        </dependency>
                                    </dependencies>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                                <resource>
                                    <targetPath>${outputDir}/pl-567/4444</targetPath>
                                    <stripVersion>true</stripVersion>
                                    <dependenciesAtM2>false</dependenciesAtM2>
                                    <dependency>
                                        <includeScope>compile</includeScope>
                                    </dependency>
                                    <filter>${filterNotM2}</filter>
                                </resource>
                            </resources>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>com.github.goldin</groupId>
                <artifactId>assert-maven-plugin</artifactId>
                <version>${plugins-version}</version>
                <executions>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-600 -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-600</id>
                        <goals>
                            <goal>assert</goal>
                        </goals>
                        <phase>test</phase>
                        <configuration>
                            <assertFiles>
                                ${outputDir}/pl-600/strip/build-info-api.jar
                                ${outputDir}/pl-600/strip/build-info-client-sources.jar
                                ${outputDir}/pl-600/strip/build-info-client.jar
                                ${outputDir}/pl-600/strip/build-info-extractor-sources.jar
                                ${outputDir}/pl-600/strip/build-info-extractor.jar
                                ${outputDir}/pl-600/strip/teamcity-artifactory-plugin-agent-sources.jar
                                ${outputDir}/pl-600/strip/teamcity-artifactory-plugin-agent.jar
                                ${outputDir}/pl-600/strip/teamcity-artifactory-plugin-agent.pom
                                ${outputDir}/pl-600/strip/teamcity-artifactory-plugin-agent.zip
                                ${outputDir}/pl-600/strip/teamcity-artifactory-plugin.pom

                                ${outputDir}/pl-600/no-strip/build-info-client-1.3.1-sources.jar
                                ${outputDir}/pl-600/no-strip/build-info-client-1.3.1.jar
                                ${outputDir}/pl-600/no-strip/build-info-extractor-1.3.1-sources.jar
                                ${outputDir}/pl-600/no-strip/build-info-extractor-1.3.1.jar
                            </assertFiles>
                            <shouldFailAssertFiles>
                                ${outputDir}/pl-600/no-strip/build-info-api.jar
                                ${outputDir}/pl-600/no-strip/build-info-client-sources.jar
                                ${outputDir}/pl-600/no-strip/build-info-client.jar
                                ${outputDir}/pl-600/no-strip/build-info-extractor-sources.jar
                                ${outputDir}/pl-600/no-strip/build-info-extractor.jar
                                ${outputDir}/pl-600/no-strip/teamcity-artifactory-plugin-agent-sources.jar
                                ${outputDir}/pl-600/no-strip/teamcity-artifactory-plugin-agent.jar
                                ${outputDir}/pl-600/no-strip/teamcity-artifactory-plugin-agent.pom
                                ${outputDir}/pl-600/no-strip/teamcity-artifactory-plugin-agent.zip
                                ${outputDir}/pl-600/no-strip/teamcity-artifactory-plugin.pom
                            </shouldFailAssertFiles>
                            <assertGroovy>
                                new File( outputDir, 'pl-600/strip'    ).listFiles().size() == 10
                                new File( outputDir, 'pl-600/no-strip' ).listFiles().size() == 10
                            </assertGroovy>
                            <shouldFailAssertEqual>
                                ${outputDir}/pl-600/strip|${outputDir}/pl-600/no-strip
                            </shouldFailAssertEqual>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-564 -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-564</id>
                        <goals>
                            <goal>assert</goal>
                        </goals>
                        <phase>test</phase>
                        <configuration>
                            <assertFiles>
                                ${outputDir}/pl-564/1/1-jar/META-INF/MANIFEST.MF
                                ${outputDir}/pl-564/1/2-zip/a/b/manifest.txt
                                ${outputDir}/pl-564/1/3-tar.gz/manifest.txt

                                ${outputDir}/pl-564/2/1-jar/META-INF/MANIFEST.MF
                                ${outputDir}/pl-564/2/2-zip/META-INF/MANIFEST.MF
                                ${outputDir}/pl-564/2/3-tar.gz/META-INF/MANIFEST.MF

                                ${outputDir}/pl-564/3/1-jar/m.txt
                                ${outputDir}/pl-564/3/2-zip/m.txt
                                ${outputDir}/pl-564/3/3-tar.gz/m2.txt

                                ${outputDir}/pl-564/4/1-jar/META-INF/MANIFEST.MF
                                ${outputDir}/pl-564/4/2-zip/META-INF/MANIFEST.MF
                                ${outputDir}/pl-564/4/3-tar.gz/META-INF/MANIFEST.MF
                            </assertFiles>
                            <assertEqual>
                                ${outputDir}/pl-564/2/1-jar|${outputDir}/pl-564/2/2-zip
                                ${outputDir}/pl-564/2/2-zip|${outputDir}/pl-564/2/3-tar.gz
                                ${outputDir}/pl-564/2/3-tar.gz|${outputDir}/pl-564/2/1-jar

                                ${outputDir}/pl-564/2|${outputDir}/pl-564/4|**/*.MF
                            </assertEqual>
                            <shouldFailAssertEqual>
                                ${outputDir}/pl-564/1/2-zip/a/b|${outputDir}/pl-564/1/3-tar.gz
                                ${outputDir}/pl-564/1/2-zip/a/b|${outputDir}/pl-564/1/3-tar.gz|*.txt

                                ${outputDir}/pl-564/3/1-jar|${outputDir}/pl-564/3/2-zip
                                ${outputDir}/pl-564/3/1-jar|${outputDir}/pl-564/3/2-zip|*.txt
                            </shouldFailAssertEqual>
                            <assertGroovy>
                                new File( outputDir, 'pl-564/1/1-jar/META-INF/MANIFEST.MF' ).text.contains( 'a1: b1' )
                                new File( outputDir, 'pl-564/1/2-zip/a/b/manifest.txt' ).text.contains( 'a2: b2' )
                                new File( outputDir, 'pl-564/1/3-tar.gz/manifest.txt' ).text.contains( 'a3: b3' )

                                new File( outputDir, 'pl-564/2/1-jar/META-INF/MANIFEST.MF' ).text.contains( 'a4: b4' )
                                new File( outputDir, 'pl-564/2/2-zip/META-INF/MANIFEST.MF' ).text.contains( 'a4: b4' )
                                new File( outputDir, 'pl-564/2/3-tar.gz/META-INF/MANIFEST.MF' ).text.contains( 'a4: b4' )

                                new File( outputDir, 'pl-564/3/1-jar/m.txt' ).text.contains( 'a5: b5' )
                                new File( outputDir, 'pl-564/3/2-zip/m.txt' ).text.contains( 'a5: zzzzz' )
                                new File( outputDir, 'pl-564/3/2-zip/m.txt' ).text.contains( 'a7: b7' )
                                new File( outputDir, 'pl-564/3/2-zip/m.txt' ).text.contains( 'basedir: ' )
                                new File( outputDir, 'pl-564/3/3-tar.gz/m2.txt' ).text.contains( 'a5: xxxxx' )
                                new File( outputDir, 'pl-564/3/3-tar.gz/m2.txt' ).text.contains( 'a6: b6' )
                                new File( outputDir, 'pl-564/3/3-tar.gz/m2.txt' ).text.contains( 'project: ' )

                                new File( outputDir, 'pl-564/4/1-jar/META-INF/MANIFEST.MF' ).text.contains( 'a4: b4' )
                                new File( outputDir, 'pl-564/4/2-zip/META-INF/MANIFEST.MF' ).text.contains( 'a4: b4' )
                                new File( outputDir, 'pl-564/4/3-tar.gz/META-INF/MANIFEST.MF' ).text.contains( 'a4: b4' )

                                new File( outputDir, 'pl-564' ).recurse([:], {}).findAll{ it.name.with{ endsWith( '.txt' ) || endsWith( '.MF' ) }}.every{ it.text.contains( 'OS-Version: ' ) }
                                new File( outputDir, 'pl-564' ).recurse([:], {}).findAll{ it.name.with{ endsWith( '.txt' ) || endsWith( '.MF' ) }}.every{ it.text.contains( 'Specification-Title: ' ) }
                                new File( outputDir, 'pl-564' ).recurse([:], {}).findAll{ it.name.with{ endsWith( '.txt' ) || endsWith( '.MF' ) }}.every{ it.text.contains( 'Manifest-Version: 1.0' ) }
                                new File( outputDir, 'pl-564' ).recurse([:], {}).findAll{ it.name.with{ endsWith( '.txt' ) || endsWith( '.MF' ) }}.every{ it.text.contains( 'Specification-Version: ${project.version}' ) }
                            </assertGroovy>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-571 -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-571</id>
                        <goals>
                            <goal>assert</goal>
                        </goals>
                        <phase>test</phase>
                        <configuration>
                            <assertFiles>
                                ${outputDir}/pl-571/1/commons-validator.jar
                                ${outputDir}/pl-571/1/commons-validator-javadoc.jar
                                ${outputDir}/pl-571/1/commons-validator-sources.jar

                                ${outputDir}/pl-571/2/commons-validator-1.2.0.jar
                                ${outputDir}/pl-571/2/commons-validator-1.2.0-javadoc.jar
                                ${outputDir}/pl-571/2/commons-validator-1.2.0-sources.jar
                            </assertFiles>
                            <assertEqual>
                                ${outputDir}/pl-571/1|${outputDir}/pl-571/1
                                ${outputDir}/pl-571/2|${outputDir}/pl-571/2

                                ${outputDir}/pl-571/1|${outputDir}/pl-571/3
                                ${outputDir}/pl-571/3|${outputDir}/pl-571/5-1
                                ${outputDir}/pl-571/5-1|${outputDir}/pl-571/5-3
                                ${outputDir}/pl-571/5-3|${outputDir}/pl-571/1

                                ${outputDir}/pl-571/2|${outputDir}/pl-571/4
                                ${outputDir}/pl-571/4|${outputDir}/pl-571/5-2
                                ${outputDir}/pl-571/5-2|${outputDir}/pl-571/5-4
                                ${outputDir}/pl-571/5-4|${outputDir}/pl-571/2
                            </assertEqual>
                            <shouldFailAssertEqual>
                                ${outputDir}/pl-571/1|${outputDir}/pl-571/2
                                ${outputDir}/pl-571/2|${outputDir}/pl-571/3
                                ${outputDir}/pl-571/3|${outputDir}/pl-571/4
                                ${outputDir}/pl-571/4|${outputDir}/pl-571/5-1
                                ${outputDir}/pl-571/5-1|${outputDir}/pl-571/5-2
                                ${outputDir}/pl-571/5-2|${outputDir}/pl-571/5-3
                                ${outputDir}/pl-571/5-3|${outputDir}/pl-571/5-4
                                ${outputDir}/pl-571/5-4|${outputDir}/pl-571/1
                            </shouldFailAssertEqual>
                            <assertGroovy>
                                new File( outputDir, 'pl-571'     ).directorySize() == 2550944
                                new File( outputDir, 'pl-571'     ).directorySize() == new File( outputDir, 'pl-571/1' ).directorySize() * 8
                                new File( outputDir, 'pl-571/1'   ).directorySize() == 318868
                                new File( outputDir, 'pl-571/2'   ).directorySize() == 318868
                                new File( outputDir, 'pl-571/3'   ).directorySize() == 318868
                                new File( outputDir, 'pl-571/4'   ).directorySize() == 318868
                                new File( outputDir, 'pl-571/5-1' ).directorySize() == 318868
                                new File( outputDir, 'pl-571/5-2' ).directorySize() == 318868
                                new File( outputDir, 'pl-571/5-3' ).directorySize() == 318868
                                new File( outputDir, 'pl-571/5-4' ).directorySize() == 318868
                            </assertGroovy>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-572 -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-572</id>
                        <goals>
                            <goal>assert</goal>
                        </goals>
                        <phase>test</phase>
                        <configuration>
                            <assertFiles>
                                ${outputDir}/pl-572/1/commons-validator.jar
                                ${outputDir}/pl-572/1/commons-validator-1.2.0-javadoc.jar
                                ${outputDir}/pl-572/1/commons-validator-sources.jar

                                ${outputDir}/pl-572/2/commons-validator-1.2.0.jar
                                ${outputDir}/pl-572/2/commons-validator-javadoc.jar
                                ${outputDir}/pl-572/2/commons-validator-1.2.0-sources.jar
                            </assertFiles>
                            <assertEqual>
                                ${outputDir}/pl-572/1|${outputDir}/pl-572/3
                                ${outputDir}/pl-572/2|${outputDir}/pl-572/4
                            </assertEqual>
                            <shouldFailAssertEqual>
                                ${outputDir}/pl-572/1|${outputDir}/pl-572/2
                                ${outputDir}/pl-572/2|${outputDir}/pl-572/3
                                ${outputDir}/pl-572/3|${outputDir}/pl-572/4
                                ${outputDir}/pl-572/4|${outputDir}/pl-572/1
                            </shouldFailAssertEqual>
                        </configuration>
                    </execution>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-567 -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-567</id>
                        <goals>
                            <goal>assert</goal>
                        </goals>
                        <phase>test</phase>
                        <configuration>
                            <assertFiles>
                                ${outputDir}/pl-567/1/spring-beans.jar
                                ${outputDir}/pl-567/2/spring-asm.jar
                                ${outputDir}/pl-567/3/servlet-api.jar
                                ${outputDir}/pl-567/4/slf4j-api.jar
                                ${outputDir}/pl-567/11/spring-beans-${spring-version}.jar
                                ${outputDir}/pl-567/22/spring-asm-${spring-version}.jar
                                ${outputDir}/pl-567/33/servlet-api-2.3.jar
                                ${outputDir}/pl-567/44/slf4j-api-1.6.2.jar
                            </assertFiles>
                            <assertGroovy>
                                new File( outputDir, 'pl-567/1' ).directorySize()    == 589824
                                new File( outputDir, 'pl-567/1' ).listFiles().size() == 1

                                new File( outputDir, 'pl-567/2' ).directorySize()    == 2532429
                                new File( outputDir, 'pl-567/2' ).listFiles().size() == 11

                                new File( outputDir, 'pl-567/3' ).directorySize()    == 425977
                                new File( outputDir, 'pl-567/3' ).listFiles().size() == 4

                                new File( outputDir, 'pl-567/4' ).directorySize()    == 494077
                                new File( outputDir, 'pl-567/4' ).listFiles().size() == 6
                            </assertGroovy>
                            <assertEqual>
                                ${outputDir}/pl-567/1|${outputDir}/pl-567/111
                                ${outputDir}/pl-567/111|${outputDir}/pl-567/1111
                                ${outputDir}/pl-567/1111|${outputDir}/pl-567/1

                                ${outputDir}/pl-567/2|${outputDir}/pl-567/222
                                ${outputDir}/pl-567/222|${outputDir}/pl-567/2222
                                ${outputDir}/pl-567/2222|${outputDir}/pl-567/2

                                ${outputDir}/pl-567/3|${outputDir}/pl-567/333
                                ${outputDir}/pl-567/333|${outputDir}/pl-567/3333
                                ${outputDir}/pl-567/3333|${outputDir}/pl-567/3

                                ${outputDir}/pl-567/4|${outputDir}/pl-567/444
                                ${outputDir}/pl-567/444|${outputDir}/pl-567/4444
                                ${outputDir}/pl-567/4444|${outputDir}/pl-567/4
                            </assertEqual>
                            <shouldFailAssertEqual>
                                ${outputDir}/pl-567/1|${outputDir}/pl-567/11
                                ${outputDir}/pl-567/2|${outputDir}/pl-567/22
                                ${outputDir}/pl-567/3|${outputDir}/pl-567/33
                                ${outputDir}/pl-567/4|${outputDir}/pl-567/44
                            </shouldFailAssertEqual>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>


    <dependencies>
        <!-- http://evgeny-goldin.org/youtrack/issue/pl-567 -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.6.2</version>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>jcl-over-slf4j</artifactId>
            <version>1.6.2</version>
        </dependency>
        <dependency>
            <groupId>commons-httpclient</groupId>
            <artifactId>commons-httpclient</artifactId>
            <version>3.1</version>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.3</version>
        </dependency>
    </dependencies>
</project>
