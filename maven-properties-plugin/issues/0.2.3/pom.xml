<?xml version="1.0" encoding="UTF-8"?>

<project xmlns              = "http://maven.apache.org/POM/4.0.0"
         xmlns:xsi          = "http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation = "http://maven.apache.org/POM/4.0.0
                               http://maven.apache.org/maven-v4_0_0.xsd">

    <modelVersion>4.0.0</modelVersion>
    <groupId>com.goldin.plugins.maven-plugins-test</groupId>
    <artifactId>maven-properties-plugin.issues.0.2.3</artifactId>
    <packaging>jar</packaging>
    <version>0.1-SNAPSHOT</version>
    <name>[${project.groupId}:${project.artifactId}:${project.version}]</name>


    <parent>
        <groupId>com.goldin.plugins.maven-plugins-test</groupId>
        <artifactId>maven-properties-plugin.issues</artifactId>
        <version>0.1-SNAPSHOT</version>
    </parent>


    <build>
        <plugins>

            <plugin>
                <groupId>com.goldin.plugins</groupId>
                <artifactId>maven-properties-plugin</artifactId>
                <version>${plugins-version}</version>
                <executions>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-400:                     -->
                    <!-- "Support "raw properties" to overcome Maven3 resolution limitation" -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-400-1</id>
                        <goals>
                            <goal>set-properties</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <rawProperties>
                                a = {b}
                                b = {c}
                                c = {d}
                                d = 5
                            </rawProperties>
                            <addDollar>true</addDollar>
                        </configuration>
                    </execution>
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-400-2</id>
                        <goals>
                            <goal>set-properties</goal>
                        </goals>
                        <phase>initialize</phase>
                        <configuration>
                            <rawProperties>
                                f = 3
                                g = {f}/{h}
                                h = {f}
                                i = {h}/{h}/{g}
                                j = 3-{i}-{h}-{g}-{f}
                            </rawProperties>
                            <addDollar>f, g, h, i, j</addDollar>
                        </configuration>
                    </execution>
                </executions>
            </plugin>


            <plugin>
                <groupId>com.goldin.plugins</groupId>
                <artifactId>maven-assert-plugin</artifactId>
                <version>${plugins-version}</version>
                <executions>
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <!-- http://evgeny-goldin.org/youtrack/issue/pl-400 -->
                    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
                    <execution>
                        <id>http://evgeny-goldin.org/youtrack/issue/pl-400</id>
                        <goals>
                            <goal>assert</goal>
                        </goals>
                        <phase>test</phase>
                        <configuration>
                            <assertProperties>
                                a
                                b
                                c
                                d
                                f
                                g
                                h
                                i
                                j
                            </assertProperties>
                            <assertGroovy>
                                a == '5'
                                b == '5'
                                c == '5'
                                d == '5'
                                f == '3'
                                g == '3/3'
                                h == '3'
                                i == '3/3/3/3'
                                j == '3-3/3/3/3-3-3/3-3'
                            </assertGroovy>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

        </plugins>
    </build>

</project>
